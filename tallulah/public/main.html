<!DOCTYPE html>
<html>
  
<head>
  <title>main</title>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <!--stylesheet-->
  <link href="https://fonts.googleapis.com/css?family=Nanum+Gothic" rel="stylesheet">
  <link href="http://fonts.googleapis.com/earlyaccess/nanumgothiccoding.css" rel="stylesheet">
  <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.0.13/css/all.css" integrity="sha384-DNOHZ68U8hZfKXOrtjWvjxusGo9WQnrNx2sqG0tfsghAvtVlRW3tvkXWZh58N9jp" crossorigin="anonymous">
  <link href="style.css" rel="stylesheet">
  <link rel="stylesheet" href="tree/themes/default/style.min.css">

  <!--script-->
  <script src="js/jquery/jquery.js"></script>
  <script src="tree/jstree.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/monaco-editor/0.13.1/min/vs/loader.js"></script>
  <script src="js/front/popup.js"></script>
  <script src="js/front/AddMenu.js"></script>
  <script src="js/front/AddTab.js"></script>
  <script src="tree/tree_api.js"></script>
  
  <!-- <script src="/socket.io/socket.io.js"></script> -->
  <!-- <script src="js/monaco/monaco.js"></script> -->
  <!-- <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css"> -->
  
  <script>  
    $(document).ready(function(){ 
      document.execCommand("insertOrderedList");
      makeTab();
		
      $(".btn_tab").on("click", function(event) {
        var title = $(event.target).val();

        if ($(event.target).prop("name") == "btn_tab_1")
        {
          tab.add(title, "#tab_content_1");
        }
        else if ($(event.target).prop("name") == "btn_tab_2")
        {
          tab.add(title, "#tab_content_2");
        }

      });
    });
    
    function doLogin(){ 
      $.ajax({
        url:"login/auth",
        data:{id: $("input[name='id']").val() , password:$("input[name='password']").val() },
        method:"POST",
        success:function(res){
          console.log(res);
          console.log(this.data);
          alert(res.message);
        }
      })
    }
    var menu=[{name: 'Project',click: function(){console.log('아 슬프다');}, subMenu:[
                  {name: '프로젝트 생성', click: openProjectPopup},
                  {name: '종료'}]},
              {name: 'Help',subMenu:[
                  {name: 'link 1'}]},
              {name:'Test'}];
    $(function(){
      $('.menu_bar').addMenu(menu);
    });

    function doSign(){ 
      $.ajax({
        url:"login/sign",
        data:{id: $("input[name='signid']").val() , password:$("input[name='signpw']").val(), name:$("input[name='signname']").val() },
        method:"POST",
        success:function(res){
          console.log(res);
          console.log(this.data);
          alert(res.message);
        }
      })
    }

    var tab;
    function makeTab() {
      tab = new Tab("#tab_layer");
    }
    
  </script>
</head>

<body>
  <div class="container"></div>
  <header class="header">
    <ul class="menu_bar">
      <li class="rightHead dropdown" id="signup" onclick="openSignPopup()">
        <a href="#">Sign Up</a>
      </li>
      <li class="rightHead dropdown" id="signin" onclick="openLoginPopup()">
        <a href="#">Sign In</a>
      </li>
    </ul>
     
  </header>

  <nav class="nav">
      <div id="tree">
        <ul>
          <li>123</li>
        </ul>
      </div>
  </nav>

  <section class="section">
    <!-- <center><div style="width: 90%; height:50px; background:#2B7A78; margin-top:2%;"><span style="color:#ffffff; text-align: left;">test.html</span></div></center>
    <center><div style="border:1.5px solid #e5e5e5; width:90%; height: 450px;">
      <textarea style="background: #f2f2f2; border:none; margin-top:3%; outline: none; font-size: 20px; resize: none;" cols="110" rows="16" ></textarea>
    </div></center>
    <div style="width:70%; height:inherits; background-color:skyblue;"id="monacoeditor"></div> -->
    
    <div id="tab_layer" style="background:#2E2E2E; width: 100%; height: 9%; margin-top: -16px;"></div>
    <div id="content_layer">
      <div class="monacoeditor" id="monacoeditor" style="height:90%; width:100%"></div> 
      
      <div id="popup_login" style="display: none;">
        <input type="text" name="id" placeholder="ID">
        <input type="password" name="password" placeholder="PASSWORD">
        <input type="button" class="button" value="LOGIN" onclick="doLogin()">
      </div>

      <div id="popup_register" style="display: none;">
          <input type="text" name="signid" placeholder="ID">
          <input type="password" name="signpw"  placeholder="PASSWORD">
          <input type="text" name="signname" placeholder="NAME">
          <input type="button" class="button" value="SIGN" onclick="doSign()">
      </div>

      <div id="popup_project" style="display: none;">
        <input type="text" name="project" placeholder="MAKE PROJECT">
        <input type="button" name="project-button" value="MAKE" class="button">
      </div>

      
      <div class="popup">
        <div class="head">
          <i class="fas fa-times-circle" id="btn_close" style="float: right; cursor: pointer;"></i>
        </div>
        <div class="content"></div>
      </div>
    </div>


  </section>
  <footer class="footer"></footer>
</body>

</html>